extends layout

block content
  div.d-flex.justify-content-between.flex-wrap.flex-md-nowrap.align-items-center.pt-3.pb-2.mb-3.border-bottom
    h1.h2 Dashboard Geral

  // Lógica de Totais (Simples e Direta)
  - var totalJogos = games.length
  - var valorTotal = games.reduce((acc, game) => acc + (game.preco || 0), 0)

  // Cards de Estatísticas
  div.row.mb-4
    div.col-md-6
      div.card.text-white.bg-primary.shadow-sm
        div.card-body
          div.d-flex.justify-content-between.align-items-center
            div
              h6.card-title TOTAL DE JOGOS
              h2.mb-0= totalJogos
            i.bi.bi-controller(style="font-size: 2.5rem; opacity: 0.5")
    
    div.col-md-6
      div.card.text-white.bg-success.shadow-sm
        div.card-body
          div.d-flex.justify-content-between.align-items-center
            div
              h6.card-title VALOR DO CATÁLOGO
              h2.mb-0 R$ #{valorTotal.toFixed(2).replace('.', ',')}
            i.bi.bi-cash-coin(style="font-size: 2.5rem; opacity: 0.5")

  // Tabela de Jogos
  div.card.shadow
    div.card-header.bg-white
      h5.mb-0 Listagem Completa
    div.table-responsive
      table.table.table-striped.table-hover.mb-0
        thead.table-dark
          tr
            th Título
            th Gênero
            th Plataforma
            th Preço
        tbody
          each game in games
            tr
              td.fw-bold= game.titulo
              td
                span.badge.bg-secondary= game.genero
              td= game.plataforma
              td.text-success.fw-bold R$ #{game.preco.toFixed(2).replace('.', ',')}